/**
 * The life and times of Dr John Dee
 * Copyright (C) 2021  Jordan Cole <feedback@drjohndee.net>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published
 * by the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>.
 */

@charset "utf-8";

:root {
  /* @see https://www.colorbox.io/#steps=11#hue_start=51#hue_end=31#hue_curve=easeInQuad#sat_start=1#sat_end=1#sat_curve=easeOutQuad#sat_rate=130#lum_start=100#lum_end=0#lum_curve=easeOutQuad#minor_steps_map=0 */
  --neutral-0--components: 1 1 0.9882;
  --neutral-0: #fffffc;
  --neutral-10--components: 0.9843 0.9804 0.9725;
  --neutral-10: #fbfaf8;
  --neutral-20--components: 0.9569 0.9529 0.9412;
  --neutral-20: #f4f3f0;
  --neutral-30--components: 0.9137 0.9098 0.9020;
  --neutral-30: #e9e8e6;
  --neutral-5--components: 0.9922 0.9882 0.9804;
  --neutral-5: #fdfcfa;
  /* foreground color inverts here */
  --neutral-100--components: 0 0 0;
  --neutral-100: #000;
  --neutral-40--components: 0.8510 0.8510 0.8431;
  --neutral-40: #d9d9d7;
  --neutral-50--components: 0.7725 0.7686 0.7608;
  --neutral-50: #c5c4c2;
  --neutral-60--components: 0.6667 0.6627 0.6549;
  --neutral-60: #aaa9a7;
  --neutral-70--components: 0.5294 0.5294 0.5255;
  --neutral-70: #878786;
  --neutral-80--components: 0.3686 0.3686 0.3647;
  --neutral-80: #5e5e5d;
  --neutral-90--components: 0.1882 0.1843 0.1843;
  --neutral-90: #302f2f;

  /* @see https://www.colorbox.io/#steps=11#hue_start=39#hue_end=11#hue_curve=easeInQuad#sat_start=4#sat_end=90#sat_curve=easeOutQuad#sat_rate=130#lum_start=100#lum_end=53#lum_curve=easeOutQuad#minor_steps_map=0 */
  --accent-0--components: 1.0000 0.9804 0.9490;
  --accent-0: #fffaf2;
  --accent-10--components: 0.9922 0.8980 0.7333;
  --accent-10: #fde5bb;
  --accent-20--components: 0.9804 0.8078 0.5255;
  --accent-20: #face86;
  --accent-30--components: 0.9608 0.7137 0.3412;
  --accent-30: #f5b657;
  --accent-40--components: 0.9294 0.6157 0.1882;
  --accent-40: #ed9d30;
  --accent-5--components: 0.9961 0.9412 0.8992;
  --accent-5: #fef0d6;
  --accent-50--components: 0.8941 0.5098 0.0745;
  --accent-50: #e48213;
  --accent-60--components: 0.8431 0.4000 0;
  --accent-60: #d76600;
  /* foreground color inverts here */
  --accent-100--components: 0.5294 0.0980 0;
  --accent-100: #871900;
  --accent-70--components: 0.7803 0.3176 0;
  --accent-70: #c75100;
  --accent-80--components: 0.6020 0.2352 0;
  --accent-80: #b33c00;
  --accent-90--components: 0.6196 0.1568 0;
  --accent-90: #9e2800;

  --invalid-data--components: 1 0 0.88;
  --invalid-data: #f0c;

  --base-font-size: 18px;
  --font-serif: EB Garamond, Garamond, Times, Times New Roman, serif;
  --font-sans-serif: system-ui, sans-serif;

  --foreground: var(--neutral-100);
  --background: var(--neutral-0);

  --primary-column-count: 9;
  --spacing-column-count: 1;
  --secondary-column-count: 5;
  --column-count: calc(var(--primary-column-count)
                     + var(--spacing-column-count)
                     + var(--secondary-column-count));
  --column-width: 5rem;
  --gutter-width: 0.5rem;
  --content-width: calc(var(--column-count) * var(--column-width)
                      + calc(var(--column-count) - 1) * var(--gutter-width));

  --vertical-rhythm: calc(var(--gutter-width) * 2);
}
@media (prefers-reduced-data: reduced) {
  :root {
    --font-serif: Garamond, Times, Times New Roman, serif;
  }
}
@supports (color: hsl(1 1 1)) {
  :root {
    --accent-0: hsl(var(--accent-0--components));
    --accent-5: hsl(var(--accent-5--components));
    --accent-10: hsl(var(--accent-10--components));
    --accent-20: hsl(var(--accent-20--components));
    --accent-30: hsl(var(--accent-30--components));
    --accent-40: hsl(var(--accent-40--components));
    --accent-50: hsl(var(--accent-50--components));
    --accent-60: hsl(var(--accent-60--components));
    --accent-70: hsl(var(--accent-70--components));
    --accent-80: hsl(var(--accent-80--components));
    --accent-90: hsl(var(--accent-90--components));
    --accent-100: hsl(var(--accent-100--components));
    --neutral-0: hsl(var(--neutral-0--components));
    --neutral-5: hsl(var(--neutral-5--components));
    --neutral-10: hsl(var(--neutral-10--components));
    --neutral-20: hsl(var(--neutral-20--components));
    --neutral-30: hsl(var(--neutral-30--components));
    --neutral-40: hsl(var(--neutral-40--components));
    --neutral-50: hsl(var(--neutral-50--components));
    --neutral-60: hsl(var(--neutral-60--components));
    --neutral-70: hsl(var(--neutral-70--components));
    --neutral-80: hsl(var(--neutral-80--components));
    --neutral-90: hsl(var(--neutral-90--components));
    --neutral-100: hsl(var(--neutral-100--components));
    --invalid-data: hsl(var(--invalid-data--components));
  }
}
@supports (color: color(display-p3 1 1 1)) {
  :root {
    --neutral-0: color(display-p3 var(--neutral-0--components));
    --neutral-5: color(display-p3 var(--neutral-5--components));
    --neutral-10: color(display-p3 var(--neutral-10--components));
    --neutral-20: color(display-p3 var(--neutral-20--components));
    --neutral-30: color(display-p3 var(--neutral-30--components));
    --neutral-40: color(display-p3 var(--neutral-40--components));
    --neutral-50: color(display-p3 var(--neutral-50--components));
    --neutral-60: color(display-p3 var(--neutral-60--components));
    --neutral-70: color(display-p3 var(--neutral-70--components));
    --neutral-80: color(display-p3 var(--neutral-80--components));
    --neutral-90: color(display-p3 var(--neutral-90--components));
    --neutral-100: color(display-p3 var(--neutral-100--components));
    --accent-0: color(display-p3 var(--accent-0--components));
    --accent-5: color(display-p3 var(--accent-5--components));
    --accent-10: color(display-p3 var(--accent-10--components));
    --accent-20: color(display-p3 var(--accent-20--components));
    --accent-30: color(display-p3 var(--accent-30--components));
    --accent-40: color(display-p3 var(--accent-40--components));
    --accent-50: color(display-p3 var(--accent-50--components));
    --accent-60: color(display-p3 var(--accent-60--components));
    --accent-70: color(display-p3 var(--accent-70--components));
    --accent-80: color(display-p3 var(--accent-80--components));
    --accent-90: color(display-p3 var(--accent-90--components));
    --accent-100: color(display-p3 var(--accent-100--components));
    --invalid-data: color(display-p3 var(--invalid-data--components));
  }
}
@media (prefers-color-scheme: dark) {
  :root {
    --foreground: var(--neutral-0);
    --background: var(--neutral-100);
  }
}
@media (min-width: 2200px) {
  :root {
    --column-width: 7rem;
  }
}
@media (max-width: 960px) {
  :root {
    --primary-column-count: 5;
    --secondary-column-count: 3;
  }
}

:lang(en),
:lang(en-emodeng) {
  quotes: '‘' '’' '“' '”';
}
:lang(en-modeng) {
  font-variant-alternates: historical-forms;
  font-variant-ligatures: historical-ligatures;
}

body, h1, h2, h3, h4, h5, h6,
p, blockquote, pre, hr,
dl, dd, ol, ul, figure {
  margin: 0;
  padding: 0;
}
html {
  font-size: var(--base-font-size);
}
body {
  background-color: var(--background);
  color: var(--foreground);
  color-scheme: light dark;
  font-family: var(--font-sans-serif);
  line-height: 1rem;
  margin: calc(var(--vertical-rhythm) * 3) auto
          calc(var(--vertical-rhythm) * 2) auto;
  min-height: 100vh;
  width: var(--content-width);
}
a {
  color: var(--accent-80);
}
a:visited {
  color: var(--accent-100);
}
a:hover {
  color: var(--accent-60);
}
@media (prefers-color-scheme: dark) {
  a {
    color: var(--accent-30);
  }
  a:visited {
    color: var(--accent-40);
  }
  a:hover {
    color: var(--accent-10);
  }
}
h1, h2, h3, h4, h5, h6,
p, blockquote, pre,
ul, ol, dl, figure {
  margin-bottom: var(--vertical-rhythm);
}
ol > li,
ul > li {
  line-height: var(--vertical-rhythm);
  margin-bottom: var(--vertical-rhythm);
}
blockquote {
  color: var(--neutral-80);
  padding-left: calc(var(--gutter-width));
  position: relative;
}
blockquote::before {
  background-color: var(--neutral-40);
  bottom: 0.5em;
  content: '';
  left: calc(var(--gutter-width) * -0.5);
  position: absolute;
  top: 0.5em;
  width: 4px;
}
@media (prefers-color-scheme: dark) {
  blockquote {
    color: var(--neutral-40);
  }
  blockquote::before {
    background-color: var(--neutral-80);
  }
}
blockquote > :last-child {
  margin-bottom: 0;
}
h1,
h2 {
  font-weight: 400;
  line-height: 1em;
}
h2 {
  line-height: calc(var(--vertical-rhythm) * 1.2);
  margin: calc(var(--vertical-rhythm) * 1.8) 0
          calc(var(--vertical-rhythm) * 0.8);
}
hr {
  border: 0;
  background-color: var(--foreground);
  height: 1px;
  left: 50%;
  margin-bottom: calc(var(--vertical-rhythm) * 1.5);
  margin-left: -15%;
  margin-top: calc(var(--vertical-rhythm) * 1.45);
  position: relative;
  width: 30%;
}
p {
  line-height: calc(var(--vertical-rhythm) * 2);
}


#site-header {
  margin-bottom: calc((var(--vertical-rhythm) * 3.8));
}
#site-header h1 {
  cursor: default;
  font-size: 2rem;
  font-weight: 700;
  line-height: calc(var(--vertical-rhythm) * 2.8);
  margin: 0;
  padding-bottom: calc(var(--vertical-rhythm) * 0.2);
  text-align: left;
}


.page {
  column-gap: var(--gutter-width);
  display: grid;
  grid-template-columns: repeat(auto-fit,
                                var(--column-width));
  grid-template-rows: auto auto;
  grid-template-areas:
    "header  header  header  header  header  header  header  header  header  header header    header    header    header    header"
    "content content content content content content content content content   .    footnotes footnotes footnotes footnotes footnotes";
}
.page-header {
  grid-area: header;
  margin-bottom: calc(var(--vertical-rhythm) * 1.9);
}
.page-name {
  font-size: 2.625rem;
  font-weight: 700;
  line-height: calc(var(--vertical-rhythm) * 3);
  margin-bottom: calc(var(--vertical-rhythm) * 2);
  position: relative;
}
.source-material {
  font-family: var(--font-serif);
}
.entries {
  list-style: none;
  margin-bottom: 0;
  margin-bottom: calc(var(--vertical-rhythm) * 5);
  position: relative;
}
.entries::after {
  content: '';
  display: block;
  border-bottom: 1px solid var(--foreground);
  bottom: calc(var(--vertical-rhythm) * -2.5);
  left: 50%;
  margin-left: -15%;
  position: absolute;
  width: 30%;
}
.entries .entry {
  margin-bottom: 0;
}
.entry + .entry {
  margin-top: calc(var(--vertical-rhythm) * 2.2);
}
.entry .citation {
  display: block;
  line-height: calc(var(--vertical-rhythm) * 2);
  margin-bottom: calc(var(--vertical-rhythm) * 0.8);
}
.entries .page-content:last-child {
  margin-bottom: 0;
}
.page-content {
  grid-area: content;
  line-height: 1.6rem;
  margin-bottom: calc(var(--vertical-rhythm) * 1.2);
}
.page-content .e-content {
  font-size: 1.3rem;
}
.page-content blockquote {
  margin-bottom: var(--vertical-rhythm);
  margin-top: var(--vertical-rhythm);
}
.page-content p {
  margin-bottom: calc(var(--vertical-rhythm) * 1);
}
.page-content p:last-child {
  margin-bottom: 0;
}
.page-content li {
  line-height: calc(var(--vertical-rhythm) * 2);
}

.annotations h1 {
  line-height: calc(var(--vertical-rhythm) * 1.9);
  margin-bottom: calc(var(--vertical-rhythm) * 2);
}
.annotations li {
  list-style: none;
}
.annotations li + li {
  margin-top: calc(var(--vertical-rhythm) * 1.9);
}
.annotations blockquote {
  font-family: var(--font-serif);
  margin-top: calc(var(--vertical-rhythm) * 0.1);
}
.annotations blockquote::before {
  width: 2px;
}
.annotations figcaption {
  font-size: 0.9rem;
  line-height: calc(var(--vertical-rhythm) * 2);
  margin-top: calc(var(--vertical-rhythm) * 1.1);
}
.annotations-commentary .annotation-content {
  font-size: 1.1rem;
}
.annotations-footnotes {
  grid-area: footnotes;
}

#site-footer {
  margin-top: calc(var(--vertical-rhythm) * 5);
}
